<!doctype html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Module List - <% if (siteInfo.title){ %><%= siteInfo.title %> <% } %>Style Guide</title>
		<script src="./resources/jquery.js"></script>
		<script src="./resources/jquery-ui.min.js"></script>
		<link rel="stylesheet" href="./resources/bootstrap/css/bootstrap.css" />
		<script src="./resources/bootstrap/js/bootstrap.js"></script>
		<link rel="stylesheet" href="./resources/px2style/styles.css" />
		<script src="./resources/px2style/scripts.js"></script>
		<link rel="stylesheet" href="./resources/styleguide.css" />
		<script src="./resources/styleguide.js"></script>
	</head>
	<body>
		<header>
			<div class="theme-title">
				<p><a href="../index.html"><% if (siteInfo.title){ %><%= siteInfo.title %> <% } %>Style Guide</a></p>
			</div>
		</header>
		<div class="theme-main">
			<h1>Module List</h1>
			<div class="contents">

<% for (var pkgId in pkgList) { %>
<% catList = pkgList[pkgId].categories %>
<h2><%= pkgList[pkgId].packageName %><small>(<%= pkgList[pkgId].packageId %>)</small></h2>

<div class="module-list">
	<div class="px2-responsive">
<table class="px2-table">
	<colgroup style="max-width:10%; min-width:10%; overflow: auto;">
	<colgroup style="max-width:15%; min-width:15%; overflow: auto;">
	<colgroup style="max-width:10%; min-width:10%; overflow: auto;">
	<colgroup style="max-width:15%; min-width:15%; overflow: auto;">
	<colgroup style="max-width:20%; min-width:20%; overflow: auto;">
	<colgroup style="max-width:10%; min-width:10%; overflow: auto;">
	<colgroup style="max-width:10%; min-width:10%; overflow: auto;">
	<colgroup style="max-width:10%; min-width:10%; overflow: auto;">
	<thead>
		<tr>
			<th>Category Name</th>
			<th>thumb</th>
			<th>Module Name</th>
			<th>ID</th>
			<th>README</th>
			<th>deprecated</th>
			<th>clip</th>
			<th>pics</th>
		</tr>
	</thead>
	<tbody>
<% for (var catId in catList) { %>
<% modList = catList[catId].modules %>

<% for (var modId in modList) { %>
<%# console.log(modList[modId]) %>
		<tr>
			<th><%= catList[catId].categoryName %></th>
			<td><% if(modList[modId].thumb){ %><img src="<%= modList[modId].thumb %>" alt="" class="module-list__thumb" /><% }else{ %>---<% } %></td>
			<td><%= modList[modId].moduleName %></td>
			<td><%= modList[modId].moduleId %></td>
			<td class="module-list__cell-readme"><article><%- modList[modId].readme %></article></td>
			<td><%= (modList[modId].deprecated ? 'Y' : 'n') %></td>
			<td><%= (modList[modId].clip ? 'Y' : 'n') %></td>
			<td class="module-list__cell-pics"><% if(modList[modId].pics && modList[modId].pics.length){ %>
				<ul>
				<% for(var picsIdx in modList[modId].pics){ %>
					<li><a href="<%= modList[modId].pics[picsIdx] %>" target="_blank"><img src="<%= modList[modId].pics[picsIdx] %>" alt="" /></a></li>
				<% } %>
				</ul>
			<% }else{ %>---<% } %></td>
		</tr>
<% } %>
<% } %>
	</tbody>
</table>
	</div>
</div>

<% } %>

	<div class="theme-counter">
		<p><span class="theme-counter__heading">Total:</span> <%= counter.count %></p>
		<ul>
		<% for (var pkgId in counter.packages) { %>
			<li><span class="theme-counter__heading"><%= counter.packages[pkgId].name %> (<%= counter.packages[pkgId].id %>):</span> <%= counter.packages[pkgId].count %>
				<ul>
				<% for (var categoryId in counter.packages[pkgId].categories) { %>
					<li><span class="theme-counter__heading"><%= counter.packages[pkgId].categories[categoryId].name %> (<%= counter.packages[pkgId].id %>:<%= counter.packages[pkgId].categories[categoryId].id %>):</span> <%= counter.packages[pkgId].categories[categoryId].count %>
					</li>
				<% } %>
				</ul>
			</li>
		<% } %>
		</ul>
	</div>

			</div>
		<!-- /.main-column --></div>
		<footer>
			<p>Generated by broccoli-styleguide-generator.</p>
		</footer>
	</body>
</html>
